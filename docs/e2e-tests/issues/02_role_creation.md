# E2Eテスト実装: 役割作成フロー

## 概要
ワークスペース内で新しい役割を作成するフローのE2Eテストを実装します。

## 詳細
役割作成は、ワークスペース内での組織構造を定義するための重要なフローです。

### テストステップ
1. ワークスペースのホームページにアクセスする
2. 役割一覧セクションの「役割を追加」ボタンをクリックする
3. 役割作成フォームが表示されることを確認する
4. 役割の画像をアップロードする
5. 役割の名前を入力する
6. 役割の説明を入力する
7. 役割が遂行するべきタスクを入力する
8. 役割が持つべき権限を選択する
9. 「作成」ボタンをクリックする
10. **MetaMaskウォレットでの署名要求が表示されることを確認する**
11. **署名を承認する**
12. 役割が正常に作成され、役割一覧に表示されることを確認する
13. 作成した役割の詳細ページにアクセスし、情報が正しく表示されることを確認する

### 期待される結果
- 役割が正常に作成される
- 作成した役割が役割一覧に表示される
- 役割の詳細情報が正しく保存され表示される

## 技術的な実装ポイント
- フォームバリデーションのテスト
- 画像アップロード機能のテスト
- 権限設定の正確性の確認
- データの永続化の確認
- MetaMaskウォレット連携と署名プロセスのテスト

## 実装方針
1. ページオブジェクトパターンを使用して、役割作成ページの操作をカプセル化する
2. Synpressを使用してMetaMaskウォレットとの連携をテストする
3. 画像アップロードのモックを作成する
4. 権限選択のインタラクションをテストする
5. フォームバリデーションのエラーケースもテストする

## 優先度
高（基本的な組織管理フロー）

## 関連リソース
- [既存のE2Eテスト](https://github.com/hackdays-io/toban/tree/main/pkgs/frontend/cypress)
- [Synpress ドキュメント](https://github.com/Synthetixio/synpress)
